<!DOCTYPE html>
<html lang="en">
<head>
<script type="text/javascript" src="js/three.js"></script>
<script type="text/javascript" src="js/jquery.js"></script>
<meta charset="UTF-8">
<title>threejs-basic-geometry</title>
<style>
body{
font-family: Monospace;
background: #f0f0f0;
margin: 0px;
overflow: hidden;
}
</style>
</head>
<body>

<div>
<div>
<canvas id="mainCanvas" width="600px" height="450px" ></canvas>
</div>
<div>
<button id="addShape" onClick="btnOnClock()">add shape</button>
<select id="shapeSel">
  <option value ="cube">cube</option>
  <option value ="mesh">mesh</option>
  <option value="sphere">sphere</option>
  <option value="line">line</option>
  <option value="cylinder">cylinder</option>
</select>

<div id="cubeOptions" style="display:inline">
<div>
x:<input size=4></input>
y:<input size=4></input>
z:<input size=4></input>
</div>
<div>
L:<input size=4></input>
W:<input size=4></input>
H:<input size=4></input>
</div>
</div>
<div>

<div id="meshOptions" style="display:none">
<div>

<div id="sphereOptions" style="display:none">
<div>

<div id="lineOptions" style="display:none">
<div>

<div id="cylinderOptions" style="display:none">
<div>

<script>
var btn = document.getElementById("addShape");
function btnOnClock() {
  var box1 = document.getElementById("box1");
  var box2 = document.getElementById("box2");
  var shapeSel = document.getElementById("shapeSel");
  console.log("wtf");

  if (shapeSel.options[shapeSel.selectedIndex] == 'box1') {
    box1.stype.display = "block";
    box2.stype.display = "none";
  } else {
    box1.stype.display = "none";
    box2.stype.display = "block";
  }
};
</script>

</div>

<script type="text/javascript">

var renderer = new THREE.WebGLRenderer({
   canvas: document.getElementById('mainCanvas')
});

//检测webgl的支持情况
var camera, scene;
main();
render();

//主函数
function main(){
  //添加一个div元素
  scene = new THREE.Scene();//创建一个新场景
  //添加一个透视相机
  camera = new THREE.PerspectiveCamera(30, window.innerWidth/window.innerHeight, 1, 1000);
  camera.position.set(100, 300, 100);//设置相机位置
  camera.lookAt(new THREE.Vector3(0,0,0));//让相机指向原点
  //渲染
  //antialias:true增加抗锯齿效果
  renderer.setClearColor(new THREE.Color(0x000000));//设置窗口背景颜色为黑
  // renderer.setSize(800, 600);//设置窗口尺寸

  //给场景添加光源
  //自然光
  var ambientLight = new THREE.AmbientLight(0x606060);
  scene.add(ambientLight);
  //平行光源
  var directionalLight = new THREE.DirectionalLight(0xffffff);
  directionalLight.position.set(1, 0.75, 0.5).normalize();
  scene.add(directionalLight);
  plane();
  cube();
  sphere();
  cylinder();
}

//创建一个平面
function plane(){
  var planeGeo = new THREE.PlaneGeometry(100,100,10,10);//创建平面
  var planeMat = new THREE.MeshLambertMaterial({  //创建材料
    color:0x666666,
    wireframe:false
  });
  var planeMesh = new THREE.Mesh(planeGeo, planeMat);//创建网格模型
  planeMesh.position.set(0, 0, -20);//设置平面的坐标
  planeMesh.rotation.x = -0.5 * Math.PI;//将平面绕X轴逆时针旋转90度
  scene.add(planeMesh);//将平面添加到场景中
}

//创建一个立方体
function cube(){
  var cubeGeo = new THREE.CubeGeometry(20, 20, 20, 5, 5, 5);//创建立方体
  var cubeMat = new THREE.MeshLambertMaterial({//创建材料
    color:0x003300,
    wireframe:false
  });
  var cubeMesh = new THREE.Mesh(cubeGeo, cubeMat);//创建立方体网格模型
  cubeMesh.position.set(20, 10, 0);//设置立方体的坐标
  scene.add(cubeMesh);//将立方体添加到场景中
}
//创建一个球
function sphere(){
  var sphereGeo = new THREE.SphereGeometry(16, 40, 40);//创建球体
  var sphereMat = new THREE.MeshLambertMaterial({//创建材料
    color:0x0000FF,
    wireframe:false
  });
  var sphereMesh = new THREE.Mesh(sphereGeo, sphereMat);//创建球体网格模型
  sphereMesh.position.set(-25, 10, 0);//设置球的坐标
  scene.add(sphereMesh);//将球体添加到场景
}

//创建圆柱体
function cylinder(){
  //创建圆柱体
  var cylinderGeo = new THREE.CylinderGeometry(15, 15 ,40 ,40 ,40);
  var cylinderMat = new THREE.MeshLambertMaterial({//创建材料
    color:0xFF6600,
    wireframe:false
  });

  //创建圆柱体网格模型
  var cylinderMesh = new THREE.Mesh(cylinderGeo, cylinderMat);
  cylinderMesh.position.set(0, 20, -40);//设置圆柱坐标
  scene.add(cylinderMesh);//向场景添加圆柱体
}

//渲染
function render(){
  renderer.render(scene, camera);
}

</script>
</body>
</html>
